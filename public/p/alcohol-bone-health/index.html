<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Is alcohol consumption good for your bones? An analysis of NHANES data from 2011 to 2016'>
<title>Alcohol Consumption and Bone Health</title>

<link rel='canonical' href='https://michelleyg1.github.io/p/alcohol-bone-health/'>

<link rel="stylesheet" href="/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css"><meta property='og:title' content='Alcohol Consumption and Bone Health'>
<meta property='og:description' content='Is alcohol consumption good for your bones? An analysis of NHANES data from 2011 to 2016'>
<meta property='og:url' content='https://michelleyg1.github.io/p/alcohol-bone-health/'>
<meta property='og:site_name' content='Michelle Gulotta'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-03-04T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-03-04T00:00:00&#43;00:00'/><meta property='og:image' content='https://michelleyg1.github.io/p/alcohol-bone-health/images/bone.jpeg' />
<meta name="twitter:title" content="Alcohol Consumption and Bone Health">
<meta name="twitter:description" content="Is alcohol consumption good for your bones? An analysis of NHANES data from 2011 to 2016"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://michelleyg1.github.io/p/alcohol-bone-health/images/bone.jpeg' />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KWPFCQTTER"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-KWPFCQTTER', { 'anonymize_ip': false });
}
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            localStorage.setItem(colorSchemeKey, "light");
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu74eb8abd789e844c3de68cd029e12227_5737_300x0_resize_q75_box.jpeg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Michelle Gulotta</a></h1>
            <h2 class="site-description">Hi, I&#39;m Michelle and welcome to my website!</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#load-packages">Load Packages</a></li>
    <li><a href="#load-data">Load Data</a></li>
    <li><a href="#merge-data">Merge Data</a></li>
    <li><a href="#data-cleaning">Data Cleaning</a>
      <ol>
        <li><a href="#assess-variables">Assess Variables</a></li>
        <li><a href="#creating-new-variables">Creating New Variables</a></li>
        <li><a href="#variable-summary">Variable Summary</a></li>
      </ol>
    </li>
    <li><a href="#table">Table</a></li>
    <li><a href="#survey-object">Survey Object</a>
      <ol>
        <li><a href="#exclusion-criteria">Exclusion Criteria</a></li>
      </ol>
    </li>
    <li><a href="#graphics">Graphics</a>
      <ol>
        <li><a href="#box-plot-of-bone-health-metrics-by-type-of-drinker">Box Plot of Bone Health Metrics by Type of Drinker</a></li>
        <li><a href="#bone-health-metrics-by-average-amount-of-alcoholic-drinks-consumed-in-one-year">Bone Health Metrics by Average Amount of Alcoholic Drinks Consumed in One Year</a></li>
      </ol>
    </li>
    <li><a href="#average-total-drinks-in-one-year-regression">Average Total Drinks in One Year Regression</a>
      <ol>
        <li><a href="#bone-density">Bone Density</a></li>
        <li><a href="#bone-mineral-content">Bone Mineral Content</a></li>
      </ol>
    </li>
    <li><a href="#type-of-drinker-regression">Type of Drinker Regression</a>
      <ol>
        <li><a href="#bone-mineral-density">Bone Mineral Density</a></li>
        <li><a href="#bone-mineral-content-1">Bone Mineral Content</a></li>
      </ol>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/alcohol-bone-health/">
                <img src="/p/alcohol-bone-health/images/bone_hu5459c0360c2b0cb7a147d2df0eb350ca_7068840_800x0_resize_q75_box.jpeg"
                        srcset="/p/alcohol-bone-health/images/bone_hu5459c0360c2b0cb7a147d2df0eb350ca_7068840_800x0_resize_q75_box.jpeg 800w, /p/alcohol-bone-health/images/bone_hu5459c0360c2b0cb7a147d2df0eb350ca_7068840_1600x0_resize_q75_box.jpeg 1600w"
                        width="800" 
                        height="533" 
                        loading="lazy"
                        alt="Featured image of post Alcohol Consumption and Bone Health" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/r/" >
                R
            </a>
        
            <a href="/categories/public-health/" >
                Public Health
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/alcohol-bone-health/">Alcohol Consumption and Bone Health</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Is alcohol consumption good for your bones? An analysis of NHANES data from 2011 to 2016
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Mar 04, 2024</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>For this analysis I wanted to explore the connection between bone health and alcohol consumption. From my non-medical professional prospective, I assumed that there would be decreased bone health measures as alcohol consumption increased, but <a class="link" href="https://www.liebertpub.com/doi/abs/10.1089/jwh.1999.8.65"  target="_blank" rel="noopener"
    >some papers</a> actually <a class="link" href="https://link.springer.com/article/10.1007/s00198-006-0249-0"  target="_blank" rel="noopener"
    >show the opposite</a> effect. I decided to see if the NHANES 2011 to 2016 data reflects this patter as well, and also to practice analyzing complex surveys and explore more that the survey package has to offer.</p>
<h2 id="load-packages">Load Packages</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">suppressPackageStartupMessages</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">library</span><span class="p">(</span><span class="n">nhanesA</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">library</span><span class="p">(</span><span class="n">survey</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">library</span><span class="p">(</span><span class="n">janitor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">library</span><span class="p">(</span><span class="n">tableone</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="load-data">Load Data</h2>
<p>I combined three cycles of NHANES data from the years 2011 to 2016, in doing this I saw in the documentation that new sample weights would have to be created to accommodate for this. Also, in reading the documentation I saw that the questionnaire that included the questions about alcohol consumption were administered in the mobile examination center, rather than in the in home interview questionnaire and therefore the exam weights would have to be used.</p>
<p>I performed this calculation when I was manipulating the other columns using dplyr&rsquo;s mutate function, and for now I&rsquo;m starting off with importing the relevant data using the nhanesA package.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># Demographic Data</span>
</span></span><span class="line"><span class="cl"><span class="n">demo11</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DEMO_G&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">RIAGENDR</span><span class="p">,</span> <span class="n">RIDAGEYR</span><span class="p">,</span> <span class="n">RIDEXPRG</span><span class="p">,</span> <span class="n">RIDRETH3</span><span class="p">,</span> <span class="n">SDMVPSU</span><span class="p">,</span> <span class="n">SDMVSTRA</span><span class="p">,</span> <span class="n">WTMEC2YR</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">demo13</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DEMO_H&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">RIAGENDR</span><span class="p">,</span> <span class="n">RIDAGEYR</span><span class="p">,</span> <span class="n">RIDEXPRG</span><span class="p">,</span> <span class="n">RIDRETH3</span><span class="p">,</span> <span class="n">SDMVPSU</span><span class="p">,</span> <span class="n">SDMVSTRA</span><span class="p">,</span> <span class="n">WTMEC2YR</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">demo15</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DEMO_I&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">RIAGENDR</span><span class="p">,</span> <span class="n">RIDAGEYR</span><span class="p">,</span> <span class="n">RIDEXPRG</span><span class="p">,</span> <span class="n">RIDRETH3</span><span class="p">,</span> <span class="n">SDMVPSU</span><span class="p">,</span> <span class="n">SDMVSTRA</span><span class="p">,</span> <span class="n">WTMEC2YR</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Alcohol Consumption Data</span>
</span></span><span class="line"><span class="cl"><span class="n">alc11</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;ALQ_G&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">ALQ101</span><span class="p">,</span> <span class="n">ALQ110</span><span class="p">,</span> <span class="n">ALQ120Q</span><span class="p">,</span> <span class="n">ALQ120U</span><span class="p">,</span> <span class="n">ALQ130</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">alc13</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;ALQ_H&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">ALQ101</span><span class="p">,</span> <span class="n">ALQ110</span><span class="p">,</span> <span class="n">ALQ120Q</span><span class="p">,</span> <span class="n">ALQ120U</span><span class="p">,</span> <span class="n">ALQ130</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">alc15</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;ALQ_I&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">ALQ101</span><span class="p">,</span> <span class="n">ALQ110</span><span class="p">,</span> <span class="n">ALQ120Q</span><span class="p">,</span> <span class="n">ALQ120U</span><span class="p">,</span> <span class="n">ALQ130</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Bone Density Data</span>
</span></span><span class="line"><span class="cl"><span class="n">bone11</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DXX_G&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">DXDTOBMC</span><span class="p">,</span> <span class="n">DXDTOBMD</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">bone13</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DXX_H&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">DXDTOBMC</span><span class="p">,</span> <span class="n">DXDTOBMD</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">bone15</span> <span class="o">&lt;-</span> <span class="nf">nhanes</span><span class="p">(</span><span class="s">&#34;DXX_I&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">SEQN</span><span class="p">,</span> <span class="n">DXDTOBMC</span><span class="p">,</span> <span class="n">DXDTOBMD</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="merge-data">Merge Data</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df11</span> <span class="o">&lt;-</span> <span class="nf">merge</span><span class="p">(</span><span class="n">demo11</span><span class="p">,</span> <span class="n">alc11</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">merge</span><span class="p">(</span><span class="n">bone11</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df13</span> <span class="o">&lt;-</span> <span class="nf">merge</span><span class="p">(</span><span class="n">demo13</span><span class="p">,</span> <span class="n">alc13</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">merge</span><span class="p">(</span><span class="n">bone13</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df15</span> <span class="o">&lt;-</span> <span class="nf">merge</span><span class="p">(</span><span class="n">demo15</span><span class="p">,</span> <span class="n">alc15</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">merge</span><span class="p">(</span><span class="n">bone15</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;SEQN&#34;</span><span class="p">),</span> <span class="n">all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">&lt;-</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">df11</span><span class="p">,</span> <span class="n">df13</span><span class="p">,</span> <span class="n">df15</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">$</span><span class="n">SEQN</span> <span class="o">&lt;-</span> <span class="kc">NULL</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="data-cleaning">Data Cleaning</h2>
<h3 id="assess-variables">Assess Variables</h3>
<p>First I wanted to know the values of my selected variables so that I could make more concise categories and also assess for missing values and how they are coded.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">RIDRETH3</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##                             RIDRETH3    n    percent
</span></span><span class="line"><span class="cl">##                     Mexican American 5006 0.16741355
</span></span><span class="line"><span class="cl">##                       Other Hispanic 3344 0.11183198
</span></span><span class="line"><span class="cl">##                   Non-Hispanic White 9713 0.32482777
</span></span><span class="line"><span class="cl">##                   Non-Hispanic Black 7079 0.23674002
</span></span><span class="line"><span class="cl">##                   Non-Hispanic Asian 3398 0.11363788
</span></span><span class="line"><span class="cl">##  Other Race - Including Multi-Racial 1362 0.04554879
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">RIDEXPRG</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##                                                            RIDEXPRG     n
</span></span><span class="line"><span class="cl">##  Yes, positive lab pregnancy test or self-reported pregnant at exam   192
</span></span><span class="line"><span class="cl">##                            The participant was not pregnant at exam  3341
</span></span><span class="line"><span class="cl">##             Cannot ascertain if the participant is pregnant at exam   272
</span></span><span class="line"><span class="cl">##                                                                &lt;NA&gt; 26097
</span></span><span class="line"><span class="cl">##      percent valid_percent
</span></span><span class="line"><span class="cl">##  0.006420975    0.05045992
</span></span><span class="line"><span class="cl">##  0.111731657    0.87805519
</span></span><span class="line"><span class="cl">##  0.009096382    0.07148489
</span></span><span class="line"><span class="cl">##  0.872750987            NA
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">ALQ101</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      ALQ101     n      percent valid_percent
</span></span><span class="line"><span class="cl">##         Yes 10844 0.3626513277  0.6948609509
</span></span><span class="line"><span class="cl">##          No  4748 0.1587853655  0.3042419582
</span></span><span class="line"><span class="cl">##  Don&#39;t know    14 0.0004681961  0.0008970909
</span></span><span class="line"><span class="cl">##        &lt;NA&gt; 14296 0.4780951107            NA
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">ALQ110</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      ALQ110     n      percent valid_percent
</span></span><span class="line"><span class="cl">##         Yes  2047 6.845696e-02  0.4298614028
</span></span><span class="line"><span class="cl">##          No  2700 9.029496e-02  0.5669886602
</span></span><span class="line"><span class="cl">##  Don&#39;t know    14 4.681961e-04  0.0029399412
</span></span><span class="line"><span class="cl">##     Refused     1 3.344258e-05  0.0002099958
</span></span><span class="line"><span class="cl">##        &lt;NA&gt; 25140 8.407464e-01            NA
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">ALQ120Q</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##  ALQ120Q     n      percent valid_percent
</span></span><span class="line"><span class="cl">##        0  2581 8.631530e-02  0.2002172058
</span></span><span class="line"><span class="cl">##        1  3001 1.003612e-01  0.2327980762
</span></span><span class="line"><span class="cl">##        2  2527 8.450940e-02  0.1960282368
</span></span><span class="line"><span class="cl">##        3  1508 5.043141e-02  0.1169808393
</span></span><span class="line"><span class="cl">##        4   855 2.859341e-02  0.0663253433
</span></span><span class="line"><span class="cl">##        5   753 2.518226e-02  0.0584128462
</span></span><span class="line"><span class="cl">##        6   427 1.427998e-02  0.0331238849
</span></span><span class="line"><span class="cl">##        7   606 2.026620e-02  0.0470095415
</span></span><span class="line"><span class="cl">##        8    77 2.575079e-03  0.0059731596
</span></span><span class="line"><span class="cl">##        9     9 3.009832e-04  0.0006981615
</span></span><span class="line"><span class="cl">##       10   192 6.420975e-03  0.0148941122
</span></span><span class="line"><span class="cl">##       11     3 1.003277e-04  0.0002327205
</span></span><span class="line"><span class="cl">##       12    69 2.307538e-03  0.0053525716
</span></span><span class="line"><span class="cl">##       13     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##       14    13 4.347535e-04  0.0010084555
</span></span><span class="line"><span class="cl">##       15    63 2.106882e-03  0.0048871306
</span></span><span class="line"><span class="cl">##       16     4 1.337703e-04  0.0003102940
</span></span><span class="line"><span class="cl">##       17     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       18     3 1.003277e-04  0.0002327205
</span></span><span class="line"><span class="cl">##       19     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       20    53 1.772457e-03  0.0041113955
</span></span><span class="line"><span class="cl">##       21     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       22     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       24     8 2.675406e-04  0.0006205880
</span></span><span class="line"><span class="cl">##       25     8 2.675406e-04  0.0006205880
</span></span><span class="line"><span class="cl">##       28     3 1.003277e-04  0.0002327205
</span></span><span class="line"><span class="cl">##       29     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       30    35 1.170490e-03  0.0027150725
</span></span><span class="line"><span class="cl">##       35     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##       36     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       40     3 1.003277e-04  0.0002327205
</span></span><span class="line"><span class="cl">##       42     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       45     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##       48     4 1.337703e-04  0.0003102940
</span></span><span class="line"><span class="cl">##       50     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##       52     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       60     6 2.006555e-04  0.0004654410
</span></span><span class="line"><span class="cl">##       61     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       64     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       72     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       80     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##       90     4 1.337703e-04  0.0003102940
</span></span><span class="line"><span class="cl">##       96     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##       97     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      100     5 1.672129e-04  0.0003878675
</span></span><span class="line"><span class="cl">##      108     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      112     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      120     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      138     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      140     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      150     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##      160     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      168     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      178     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      180     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##      182     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      200     4 1.337703e-04  0.0003102940
</span></span><span class="line"><span class="cl">##      220     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      245     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      250     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      300     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      305     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      340     1 3.344258e-05  0.0000775735
</span></span><span class="line"><span class="cl">##      350     3 1.003277e-04  0.0002327205
</span></span><span class="line"><span class="cl">##      365     8 2.675406e-04  0.0006205880
</span></span><span class="line"><span class="cl">##      777     2 6.688516e-05  0.0001551470
</span></span><span class="line"><span class="cl">##      999    12 4.013109e-04  0.0009308820
</span></span><span class="line"><span class="cl">##       NA 17011 5.688917e-01            NA
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">ALQ120U</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##  ALQ120U     n    percent valid_percent
</span></span><span class="line"><span class="cl">##     Week  4140 0.13845228     0.4020979
</span></span><span class="line"><span class="cl">##    Month  2880 0.09631463     0.2797203
</span></span><span class="line"><span class="cl">##     Year  3276 0.10955789     0.3181818
</span></span><span class="line"><span class="cl">##     &lt;NA&gt; 19606 0.65567521            NA
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">tabyl</span><span class="p">(</span><span class="n">ALQ130</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##  ALQ130     n      percent valid_percent
</span></span><span class="line"><span class="cl">##       1  3601 1.204267e-01  3.493064e-01
</span></span><span class="line"><span class="cl">##       2  2858 9.557889e-02  2.772335e-01
</span></span><span class="line"><span class="cl">##       3  1498 5.009698e-02  1.453099e-01
</span></span><span class="line"><span class="cl">##       4   777 2.598488e-02  7.537104e-02
</span></span><span class="line"><span class="cl">##       5   467 1.561768e-02  4.530022e-02
</span></span><span class="line"><span class="cl">##       6   525 1.755735e-02  5.092638e-02
</span></span><span class="line"><span class="cl">##       7    89 2.976390e-03  8.633233e-03
</span></span><span class="line"><span class="cl">##       8   139 4.648518e-03  1.348336e-02
</span></span><span class="line"><span class="cl">##       9    20 6.688516e-04  1.940052e-03
</span></span><span class="line"><span class="cl">##      10   103 3.444586e-03  9.991270e-03
</span></span><span class="line"><span class="cl">##      11    10 3.344258e-04  9.700262e-04
</span></span><span class="line"><span class="cl">##      12   128 4.280650e-03  1.241634e-02
</span></span><span class="line"><span class="cl">##      13     7 2.340981e-04  6.790183e-04
</span></span><span class="line"><span class="cl">##      14     9 3.009832e-04  8.730236e-04
</span></span><span class="line"><span class="cl">##      15    33 1.103605e-03  3.201086e-03
</span></span><span class="line"><span class="cl">##      16     7 2.340981e-04  6.790183e-04
</span></span><span class="line"><span class="cl">##      17     1 3.344258e-05  9.700262e-05
</span></span><span class="line"><span class="cl">##      18     5 1.672129e-04  4.850131e-04
</span></span><span class="line"><span class="cl">##      20     8 2.675406e-04  7.760210e-04
</span></span><span class="line"><span class="cl">##      21     2 6.688516e-05  1.940052e-04
</span></span><span class="line"><span class="cl">##      23     1 3.344258e-05  9.700262e-05
</span></span><span class="line"><span class="cl">##      24     4 1.337703e-04  3.880105e-04
</span></span><span class="line"><span class="cl">##      25     1 3.344258e-05  9.700262e-05
</span></span><span class="line"><span class="cl">##      30     2 6.688516e-05  1.940052e-04
</span></span><span class="line"><span class="cl">##      64     1 3.344258e-05  9.700262e-05
</span></span><span class="line"><span class="cl">##      82     1 3.344258e-05  9.700262e-05
</span></span><span class="line"><span class="cl">##     777     2 6.688516e-05  1.940052e-04
</span></span><span class="line"><span class="cl">##     999    10 3.344258e-04  9.700262e-04
</span></span><span class="line"><span class="cl">##      NA 19593 6.552405e-01            NA
</span></span></code></pre></td></tr></table>
</div>
</div><p>This was a useful part of data cleaning, as I was able to see that certain missing values were coded as 999 or 777 rather than NA, this would&rsquo;ve seriously thrown off my calculations when I tried to create the variable to capture average drinks over last 12 months time period.</p>
<h3 id="creating-new-variables">Creating New Variables</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">dff</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">mutate</span><span class="p">(</span><span class="n">weight</span> <span class="o">=</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">*</span><span class="n">df</span><span class="o">$</span><span class="n">WTMEC2YR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="n">preg</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="nf">case_when</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDEXPRG</span> <span class="o">==</span> <span class="s">&#34;Yes, positive lab pregnancy test or self-reported pregnant at exam&#34;</span> <span class="o">~</span> <span class="s">&#34;Yes&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDEXPRG</span> <span class="o">==</span> <span class="s">&#34;The participant was not pregnant at exam&#34;</span> <span class="o">~</span> <span class="s">&#34;No&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="kc">TRUE</span> <span class="o">~</span> <span class="kc">NA</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">         <span class="n">race</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="nf">case_when</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Mexican American&#34;</span> <span class="o">|</span> <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Other Hispanic&#34;</span> <span class="o">~</span> <span class="s">&#34;Hispanic&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Non-Hispanic White&#34;</span> <span class="o">~</span> <span class="s">&#34;White&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Non-Hispanic Black&#34;</span> <span class="o">~</span> <span class="s">&#34;Black&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Non-Hispanic Asian&#34;</span> <span class="o">~</span> <span class="s">&#34;Asian&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">RIDRETH3</span> <span class="o">==</span> <span class="s">&#34;Other Race - Including Multi-Racial&#34;</span> <span class="o">~</span> <span class="s">&#34;Other&#34;</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinksyr</span> <span class="o">=</span> <span class="nf">if_else</span><span class="p">(</span><span class="n">ALQ101</span> <span class="o">==</span> <span class="s">&#34;Don&#39;t know&#34;</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="n">ALQ101</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinkslife</span> <span class="o">=</span> <span class="nf">if_else</span><span class="p">(</span><span class="n">ALQ110</span> <span class="o">==</span> <span class="s">&#34;Don&#39;t know&#34;</span> <span class="o">|</span> <span class="n">ALQ110</span> <span class="o">==</span> <span class="s">&#34;Refused&#34;</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="n">ALQ110</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinksfreq</span> <span class="o">=</span> <span class="nf">if_else</span><span class="p">(</span><span class="n">ALQ120Q</span> <span class="o">==</span> <span class="m">777</span> <span class="o">|</span> <span class="n">ALQ120Q</span> <span class="o">==</span> <span class="m">999</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="n">ALQ120Q</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinksamt</span> <span class="o">=</span> <span class="nf">if_else</span><span class="p">(</span><span class="n">ALQ130</span> <span class="o">==</span> <span class="m">777</span> <span class="o">|</span> <span class="n">ALQ130</span> <span class="o">==</span> <span class="m">999</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="n">ALQ130</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinksfreqcalc</span> <span class="o">=</span> <span class="nf">case_when</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                          <span class="n">ALQ120U</span> <span class="o">==</span> <span class="s">&#34;Week&#34;</span> <span class="o">~</span> <span class="n">drinksfreq</span> <span class="o">*</span> <span class="m">52</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">ALQ120U</span> <span class="o">==</span> <span class="s">&#34;Month&#34;</span> <span class="o">~</span> <span class="n">drinksfreq</span> <span class="o">*</span> <span class="m">12</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">ALQ120U</span> <span class="o">==</span> <span class="s">&#34;Year&#34;</span> <span class="o">~</span> <span class="n">drinksfreq</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">ALQ120Q</span> <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;</span> <span class="n">ALQ120U</span> <span class="o">==</span> <span class="kc">NA</span> <span class="o">~</span> <span class="m">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">ALQ120Q</span> <span class="o">==</span> <span class="kc">NA</span> <span class="o">&amp;</span> <span class="n">ALQ120U</span> <span class="o">==</span> <span class="kc">NA</span> <span class="o">~</span> <span class="kc">NA</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinkstotalyr</span> <span class="o">=</span> <span class="n">drinksfreqcalc</span> <span class="o">*</span> <span class="n">drinksamt</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="n">drinktype</span> <span class="o">=</span> <span class="nf">as_factor</span><span class="p">(</span><span class="nf">case_when</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                            <span class="n">RIAGENDR</span> <span class="o">==</span> <span class="s">&#34;Female&#34;</span> <span class="o">&amp;</span> <span class="n">ALQ130</span> <span class="o">&gt;=</span> <span class="m">4</span> <span class="o">~</span> <span class="s">&#34;Binge Drinker&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">RIAGENDR</span> <span class="o">==</span> <span class="s">&#34;Female&#34;</span> <span class="o">&amp;</span> <span class="n">ALQ130</span> <span class="o">&lt;</span> <span class="m">4</span> <span class="o">~</span> <span class="s">&#34;Drinker&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">RIAGENDR</span> <span class="o">==</span> <span class="s">&#34;Male&#34;</span> <span class="o">&amp;</span> <span class="n">ALQ130</span> <span class="o">&gt;=</span> <span class="m">5</span> <span class="o">~</span> <span class="s">&#34;Binge Drinker&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">RIAGENDR</span> <span class="o">==</span> <span class="s">&#34;Male&#34;</span> <span class="o">&amp;</span> <span class="n">ALQ130</span> <span class="o">&lt;</span> <span class="m">5</span> <span class="o">~</span> <span class="s">&#34;Drinker&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">ALQ110</span> <span class="o">==</span> <span class="s">&#34;No&#34;</span> <span class="o">~</span> <span class="s">&#34;Non Drinker&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">rename</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">gender</span> <span class="o">=</span> <span class="n">RIAGENDR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">age</span> <span class="o">=</span> <span class="n">RIDAGEYR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">psu</span> <span class="o">=</span> <span class="n">SDMVPSU</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">strata</span> <span class="o">=</span> <span class="n">SDMVSTRA</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">bmc</span> <span class="o">=</span> <span class="n">DXDTOBMC</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">bmd</span> <span class="o">=</span> <span class="n">DXDTOBMD</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span> <span class="o">%&gt;%</span> 
</span></span><span class="line"><span class="cl">  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="o">-</span><span class="n">RIDRETH3</span><span class="p">,</span> <span class="o">-</span><span class="n">RIDEXPRG</span><span class="p">,</span> <span class="o">-</span><span class="n">ALQ101</span><span class="p">,</span> <span class="o">-</span><span class="n">ALQ110</span><span class="p">,</span> <span class="o">-</span> <span class="n">ALQ120Q</span><span class="p">,</span> <span class="o">-</span> <span class="n">ALQ120U</span><span class="p">,</span> <span class="o">-</span><span class="n">ALQ130</span><span class="p">,</span> <span class="o">-</span><span class="n">WTMEC2YR</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now I&rsquo;m going to check out how my new columns look and make sure that there&rsquo;s nothing unexpected that I didn&rsquo;t cover through all of my case_when()s and if_else()s.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">str</span><span class="p">(</span><span class="n">dff</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## &#39;data.frame&#39;:	29902 obs. of  16 variables:
</span></span><span class="line"><span class="cl">##  $ gender        : Factor w/ 2 levels &#34;Male&#34;,&#34;Female&#34;: 1 2 1 2 2 1 1 1 1 1 ...
</span></span><span class="line"><span class="cl">##  $ age           : num  22 3 14 44 14 9 0 6 21 15 ...
</span></span><span class="line"><span class="cl">##  $ psu           : num  1 3 3 1 2 1 2 2 1 3 ...
</span></span><span class="line"><span class="cl">##  $ strata        : num  91 92 90 94 90 91 92 103 92 91 ...
</span></span><span class="line"><span class="cl">##  $ bmc           : num  2589 NA 1931 2039 1944 ...
</span></span><span class="line"><span class="cl">##  $ bmd           : num  1.21 NA 1.02 1.07 1.06 ...
</span></span><span class="line"><span class="cl">##  $ weight        : num  34746 5372 2623 42655 4461 ...
</span></span><span class="line"><span class="cl">##  $ preg          : Factor w/ 2 levels &#34;No&#34;,&#34;Yes&#34;: NA NA NA 1 NA NA NA NA NA NA ...
</span></span><span class="line"><span class="cl">##  $ race          : Factor w/ 5 levels &#34;Asian&#34;,&#34;Black&#34;,..: 5 3 1 5 2 5 1 4 1 4 ...
</span></span><span class="line"><span class="cl">##  $ drinksyr      : Factor w/ 3 levels &#34;Yes&#34;,&#34;No&#34;,&#34;Don&#39;t know&#34;: 2 NA NA NA NA NA NA NA 1 NA ...
</span></span><span class="line"><span class="cl">##  $ drinkslife    : Factor w/ 4 levels &#34;Yes&#34;,&#34;No&#34;,&#34;Don&#39;t know&#34;,..: 2 NA NA NA NA NA NA NA NA NA ...
</span></span><span class="line"><span class="cl">##  $ drinksfreq    : num  NA NA NA NA NA NA NA NA 1 NA ...
</span></span><span class="line"><span class="cl">##  $ drinksamt     : num  NA NA NA NA NA NA NA NA 2 NA ...
</span></span><span class="line"><span class="cl">##  $ drinksfreqcalc: num  NA NA NA NA NA NA NA NA 12 NA ...
</span></span><span class="line"><span class="cl">##  $ drinkstotalyr : num  NA NA NA NA NA NA NA NA 24 NA ...
</span></span><span class="line"><span class="cl">##  $ drinktype     : Factor w/ 3 levels &#34;Non Drinker&#34;,..: 1 NA NA NA NA NA NA NA 2 NA ...
</span></span></code></pre></td></tr></table>
</div>
</div><p>It looks like factor levels that have no observations are still appearing as a valid level, I&rsquo;m going to use the droplevels() function to clean this up.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">dff</span><span class="o">$</span><span class="n">drinksyr</span> <span class="o">&lt;-</span> <span class="nf">droplevels</span><span class="p">(</span><span class="n">dff</span><span class="o">$</span><span class="n">drinksyr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">dff</span><span class="o">$</span><span class="n">drinkslife</span> <span class="o">&lt;-</span> <span class="nf">droplevels</span><span class="p">(</span><span class="n">dff</span><span class="o">$</span><span class="n">drinkslife</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And now re-checking.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">str</span><span class="p">(</span><span class="n">dff</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## &#39;data.frame&#39;:	29902 obs. of  16 variables:
</span></span><span class="line"><span class="cl">##  $ gender        : Factor w/ 2 levels &#34;Male&#34;,&#34;Female&#34;: 1 2 1 2 2 1 1 1 1 1 ...
</span></span><span class="line"><span class="cl">##  $ age           : num  22 3 14 44 14 9 0 6 21 15 ...
</span></span><span class="line"><span class="cl">##  $ psu           : num  1 3 3 1 2 1 2 2 1 3 ...
</span></span><span class="line"><span class="cl">##  $ strata        : num  91 92 90 94 90 91 92 103 92 91 ...
</span></span><span class="line"><span class="cl">##  $ bmc           : num  2589 NA 1931 2039 1944 ...
</span></span><span class="line"><span class="cl">##  $ bmd           : num  1.21 NA 1.02 1.07 1.06 ...
</span></span><span class="line"><span class="cl">##  $ weight        : num  34746 5372 2623 42655 4461 ...
</span></span><span class="line"><span class="cl">##  $ preg          : Factor w/ 2 levels &#34;No&#34;,&#34;Yes&#34;: NA NA NA 1 NA NA NA NA NA NA ...
</span></span><span class="line"><span class="cl">##  $ race          : Factor w/ 5 levels &#34;Asian&#34;,&#34;Black&#34;,..: 5 3 1 5 2 5 1 4 1 4 ...
</span></span><span class="line"><span class="cl">##  $ drinksyr      : Factor w/ 2 levels &#34;Yes&#34;,&#34;No&#34;: 2 NA NA NA NA NA NA NA 1 NA ...
</span></span><span class="line"><span class="cl">##  $ drinkslife    : Factor w/ 2 levels &#34;Yes&#34;,&#34;No&#34;: 2 NA NA NA NA NA NA NA NA NA ...
</span></span><span class="line"><span class="cl">##  $ drinksfreq    : num  NA NA NA NA NA NA NA NA 1 NA ...
</span></span><span class="line"><span class="cl">##  $ drinksamt     : num  NA NA NA NA NA NA NA NA 2 NA ...
</span></span><span class="line"><span class="cl">##  $ drinksfreqcalc: num  NA NA NA NA NA NA NA NA 12 NA ...
</span></span><span class="line"><span class="cl">##  $ drinkstotalyr : num  NA NA NA NA NA NA NA NA 24 NA ...
</span></span><span class="line"><span class="cl">##  $ drinktype     : Factor w/ 3 levels &#34;Non Drinker&#34;,..: 1 NA NA NA NA NA NA NA 2 NA ...
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="variable-summary">Variable Summary</h3>
<p>My final dataset includes the following variables that I&rsquo;m going to use to assess alcohol consumption</p>
<ul>
<li>drinksyr: have you had at least 12 drinks in a year?</li>
<li>drinkslife: have you had at least 12 drinks in your life?</li>
<li>drinksamt: ALQ130 with missing values recoded as NA</li>
<li>drinksfreq: ALQ120Q with missing values recoded as NA</li>
<li>drinksfreqcalc: drinking days during a year period</li>
<li>drinkstotalyr: average total drinks a year created by multiplying average drinks/drinking day with average amount of drinking days in a year</li>
<li>drinktype: if an average drinking day for an individual is considered binge drinking (note that these amounts are different for men and women)</li>
</ul>
<h2 id="table">Table</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">init.table</span> <span class="o">&lt;-</span> <span class="nf">CreateTableOne</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">dff</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                             <span class="n">includeNA</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">init.table</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">showAllLevels</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##                             
</span></span><span class="line"><span class="cl">##                              level         Overall            
</span></span><span class="line"><span class="cl">##   n                                           29902           
</span></span><span class="line"><span class="cl">##   gender (%)                 Male             14751 (49.3)    
</span></span><span class="line"><span class="cl">##                              Female           15151 (50.7)    
</span></span><span class="line"><span class="cl">##   age (mean (SD))                             31.60 (24.59)   
</span></span><span class="line"><span class="cl">##   psu (mean (SD))                              1.54 (0.56)    
</span></span><span class="line"><span class="cl">##   strata (mean (SD))                         111.13 (13.03)   
</span></span><span class="line"><span class="cl">##   bmc (mean (SD))                           2080.01 (604.26)  
</span></span><span class="line"><span class="cl">##   bmd (mean (SD))                              1.05 (0.15)    
</span></span><span class="line"><span class="cl">##   weight (mean (SD))                       10414.87 (10842.12)
</span></span><span class="line"><span class="cl">##   preg (%)                   No                3341 (11.2)    
</span></span><span class="line"><span class="cl">##                              Yes                192 ( 0.6)    
</span></span><span class="line"><span class="cl">##                              &lt;NA&gt;             26369 (88.2)    
</span></span><span class="line"><span class="cl">##   race (%)                   Asian             3398 (11.4)    
</span></span><span class="line"><span class="cl">##                              Black             7079 (23.7)    
</span></span><span class="line"><span class="cl">##                              Hispanic          8350 (27.9)    
</span></span><span class="line"><span class="cl">##                              Other             1362 ( 4.6)    
</span></span><span class="line"><span class="cl">##                              White             9713 (32.5)    
</span></span><span class="line"><span class="cl">##   drinksyr (%)               Yes              10844 (36.3)    
</span></span><span class="line"><span class="cl">##                              No                4748 (15.9)    
</span></span><span class="line"><span class="cl">##                              &lt;NA&gt;             14310 (47.9)    
</span></span><span class="line"><span class="cl">##   drinkslife (%)             Yes               2047 ( 6.8)    
</span></span><span class="line"><span class="cl">##                              No                2700 ( 9.0)    
</span></span><span class="line"><span class="cl">##                              &lt;NA&gt;             25155 (84.1)    
</span></span><span class="line"><span class="cl">##   drinksfreq (mean (SD))                       3.49 (14.26)   
</span></span><span class="line"><span class="cl">##   drinksamt (mean (SD))                        2.77 (2.64)    
</span></span><span class="line"><span class="cl">##   drinksfreqcalc (mean (SD))                  72.23 (96.89)   
</span></span><span class="line"><span class="cl">##   drinkstotalyr (mean (SD))                  227.84 (465.05)  
</span></span><span class="line"><span class="cl">##   drinktype (%)              Non Drinker       2700 ( 9.0)    
</span></span><span class="line"><span class="cl">##                              Drinker           8482 (28.4)    
</span></span><span class="line"><span class="cl">##                              Binge Drinker     1827 ( 6.1)    
</span></span><span class="line"><span class="cl">##                              &lt;NA&gt;             16893 (56.5)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="survey-object">Survey Object</h2>
<p>Here I used the survey package to create a survey design object with my clean dataset.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">alc.svy</span> <span class="o">&lt;-</span> <span class="nf">svydesign</span><span class="p">(</span><span class="n">id</span> <span class="o">=</span> <span class="o">~</span><span class="n">psu</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">strata</span> <span class="o">=</span> <span class="o">~</span><span class="n">strata</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">weights</span> <span class="o">=</span> <span class="o">~</span><span class="n">weight</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">nest</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">survey.lonely.psu</span> <span class="o">=</span> <span class="s">&#34;adjust&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">data</span> <span class="o">=</span> <span class="n">dff</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="exclusion-criteria">Exclusion Criteria</h3>
<p>As survey data is only supposed to be filtered through the subset() method of an already existing survey object, I used this method to apply my exclusion criteria of age being over 21 and the participant not being pregnant. I also filtered out observations where the first question about alcohol consumption behaviors was missing, and missing information about bone mineral density and bone mineral content.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">alc.subset</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">alc.svy</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="n">age</span> <span class="o">&gt;=</span> <span class="m">21</span> 
</span></span><span class="line"><span class="cl">                     <span class="o">&amp;</span> <span class="n">preg</span> <span class="o">==</span> <span class="s">&#34;No&#34;</span> <span class="o">|</span> <span class="nf">is.na</span><span class="p">(</span><span class="n">preg</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">                     <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">drinksyr</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">                     <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">bmc</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">                     <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">bmd</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="graphics">Graphics</h2>
<h3 id="box-plot-of-bone-health-metrics-by-type-of-drinker">Box Plot of Bone Health Metrics by Type of Drinker</h3>
<p>Here I used the built in graphics in the survey package to create a box plot.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">xpd</span> <span class="o">=</span> <span class="kc">NA</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">svyboxplot</span><span class="p">(</span><span class="n">bmd</span> <span class="o">~</span> <span class="n">drinktype</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">           <span class="n">alc.subset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">ylab</span> <span class="o">=</span> <span class="s">&#34;Bone Mineral Density&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">col</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;#98bad5&#34;</span><span class="p">,</span> <span class="s">&#34;#305674&#34;</span><span class="p">,</span> <span class="s">&#34;#c6d3e3&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">           <span class="n">show.names</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">svyboxplot</span><span class="p">(</span><span class="n">bmc</span> <span class="o">~</span> <span class="n">drinktype</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">           <span class="n">alc.subset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">ylab</span> <span class="o">=</span> <span class="s">&#34;Bone Mineral Content&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">col</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;#98bad5&#34;</span><span class="p">,</span> <span class="s">&#34;#305674&#34;</span><span class="p">,</span> <span class="s">&#34;#c6d3e3&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">           <span class="n">show.names</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">bty</span> <span class="o">=</span> <span class="s">&#34;L&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">legend</span><span class="p">(</span><span class="s">&#34;bottomleft&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">       <span class="n">legend</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;Non Drinker&#34;</span><span class="p">,</span> <span class="s">&#34;Normal Drinker&#34;</span><span class="p">,</span> <span class="s">&#34;Binge Drinker&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">       <span class="n">fill</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;#98bad5&#34;</span><span class="p">,</span> <span class="s">&#34;#305674&#34;</span><span class="p">,</span> <span class="s">&#34;#c6d3e3&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">       <span class="n">inset</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">-1.25</span><span class="p">,</span> <span class="m">-0.3</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">       <span class="n">cex</span> <span class="o">=</span> <span class="m">0.9</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="n">horiz</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">mtext</span><span class="p">(</span><span class="s">&#34;Bone Mineral Content and Density by Type of Drinker&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">side</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">line</span> <span class="o">=</span> <span class="m">-2.5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">cex</span> <span class="o">=</span> <span class="m">1.2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">outer</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://michelleyg1.github.io/p/alcohol-bone-health/index_files/figure-html/unnamed-chunk-12-1.png" width="672" />
<h3 id="bone-health-metrics-by-average-amount-of-alcoholic-drinks-consumed-in-one-year">Bone Health Metrics by Average Amount of Alcoholic Drinks Consumed in One Year</h3>
<p>Here I use the built in graphics to take a look at the relationship between the two different bone health measurements and total average alcohol consumption over the course of a year.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl"><span class="nf">svyplot</span><span class="p">(</span><span class="n">bmd</span> <span class="o">~</span> <span class="n">drinkstotalyr</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">alc.subset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">xlim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">5000</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">xlab</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ylab</span> <span class="o">=</span> <span class="s">&#34;Bone Mineral Density (g/cm^2)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">style</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;transparent&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">lines</span><span class="p">(</span><span class="nf">svysmooth</span><span class="p">(</span><span class="n">bmd</span> <span class="o">~</span> <span class="n">drinkstotalyr</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">alc.subset</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">bandwidth</span> <span class="o">=</span> <span class="m">200</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">       <span class="n">col</span> <span class="o">=</span> <span class="s">&#34;#2C54A7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="n">lwd</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">svyplot</span><span class="p">(</span><span class="n">bmc</span> <span class="o">~</span> <span class="n">drinkstotalyr</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">alc.subset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">xlim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">5000</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">ylab</span> <span class="o">=</span> <span class="s">&#34;Bone Mineral Content (g)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">xlab</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">style</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;transparent&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">lines</span><span class="p">(</span><span class="nf">svysmooth</span><span class="p">(</span><span class="n">bmc</span> <span class="o">~</span> <span class="n">drinkstotalyr</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">alc.subset</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">bandwidth</span> <span class="o">=</span> <span class="m">200</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">       <span class="n">col</span> <span class="o">=</span> <span class="s">&#34;#2C54A7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="n">lwd</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">mtext</span><span class="p">(</span><span class="s">&#34;Bone Mineral Density(g/cm^2) and Bone Mineral Content by
</span></span></span><span class="line"><span class="cl"><span class="s">      Average Alcoholic Drinks in One Year&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">side</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">line</span> <span class="o">=</span> <span class="m">-2.5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">cex</span> <span class="o">=</span> <span class="m">1.2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">outer</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">mtext</span><span class="p">(</span><span class="s">&#34;Average Alcoholic Drinks in One Year&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">side</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">line</span> <span class="o">=</span> <span class="m">-2.5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">outer</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://michelleyg1.github.io/p/alcohol-bone-health/index_files/figure-html/unnamed-chunk-13-1.png" width="672" />
<h2 id="average-total-drinks-in-one-year-regression">Average Total Drinks in One Year Regression</h2>
<p>Now I&rsquo;m going to fit some models to assess the relationship between my selected responses and covariates to see if there are any relationships between alcohol consumption and bone health measures when adjusting for other variables.
I also plot the diagnostic plots to assess these models.</p>
<h3 id="bone-density">Bone Density</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">bmd.glm</span> <span class="o">&lt;-</span> <span class="nf">svyglm</span><span class="p">(</span><span class="n">bmd</span> <span class="o">~</span> <span class="n">drinkstotalyr</span> <span class="o">+</span> <span class="n">gender</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="n">race</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">               <span class="n">alc.subset</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">plot</span><span class="p">(</span><span class="n">bmd.glm</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://michelleyg1.github.io/p/alcohol-bone-health/index_files/figure-html/unnamed-chunk-14-1.png" width="672" />
Diagnostics look good, the data is relatively normal and there are no obvious patterns in the other values that would throw off any assumptions. Now I'm going to take a look at a summary of the model to get the coefficients. 
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">bmd.glm</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Call:
</span></span><span class="line"><span class="cl">## svyglm(formula = bmd ~ drinkstotalyr + gender + age + race, design = alc.subset)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Survey design:
</span></span><span class="line"><span class="cl">## subset(alc.svy, age &gt;= 21 &amp; preg == &#34;No&#34; | is.na(preg) &amp; !is.na(drinksyr) &amp; 
</span></span><span class="line"><span class="cl">##     !is.na(bmc) &amp; !is.na(bmd))
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Coefficients:
</span></span><span class="line"><span class="cl">##                 Estimate Std. Error t value Pr(&gt;|t|)    
</span></span><span class="line"><span class="cl">## (Intercept)    1.124e+00  7.061e-03 159.139  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## drinkstotalyr -3.275e-06  3.813e-06  -0.859  0.39562    
</span></span><span class="line"><span class="cl">## genderFemale  -6.502e-02  3.100e-03 -20.974  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## age           -4.602e-04  1.337e-04  -3.441  0.00137 ** 
</span></span><span class="line"><span class="cl">## raceBlack      1.052e-01  5.846e-03  17.991  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## raceHispanic   2.298e-02  4.843e-03   4.744 2.66e-05 ***
</span></span><span class="line"><span class="cl">## raceOther      4.947e-02  9.054e-03   5.463 2.68e-06 ***
</span></span><span class="line"><span class="cl">## raceWhite      3.928e-02  5.236e-03   7.502 3.79e-09 ***
</span></span><span class="line"><span class="cl">## ---
</span></span><span class="line"><span class="cl">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## (Dispersion parameter for gaussian family taken to be 0.01040399)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Number of Fisher Scoring iterations: 2
</span></span></code></pre></td></tr></table>
</div>
</div><p>So it looks like drinkstotalyr is not statistically significant.</p>
<h3 id="bone-mineral-content">Bone Mineral Content</h3>
<p>Now to check out the same things for the bone mineral content variable instead of the bone mineral density.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">bmc.glm</span> <span class="o">&lt;-</span> <span class="nf">svyglm</span><span class="p">(</span><span class="n">bmc</span> <span class="o">~</span> <span class="n">drinkstotalyr</span> <span class="o">+</span> <span class="n">gender</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="n">race</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">               <span class="n">alc.subset</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">plot</span><span class="p">(</span><span class="n">bmc.glm</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://michelleyg1.github.io/p/alcohol-bone-health/index_files/figure-html/unnamed-chunk-16-1.png" width="672" />
This looks okay, I'm going to look at the summary.
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">bmc.glm</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Call:
</span></span><span class="line"><span class="cl">## svyglm(formula = bmc ~ drinkstotalyr + gender + age + race, design = alc.subset)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Survey design:
</span></span><span class="line"><span class="cl">## subset(alc.svy, age &gt;= 21 &amp; preg == &#34;No&#34; | is.na(preg) &amp; !is.na(drinksyr) &amp; 
</span></span><span class="line"><span class="cl">##     !is.na(bmc) &amp; !is.na(bmd))
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Coefficients:
</span></span><span class="line"><span class="cl">##                 Estimate Std. Error t value Pr(&gt;|t|)    
</span></span><span class="line"><span class="cl">## (Intercept)   2397.58331   19.63872 122.085  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## drinkstotalyr   -0.01464    0.01079  -1.357   0.1824    
</span></span><span class="line"><span class="cl">## genderFemale  -501.15816    9.84552 -50.902  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## age             -0.76125    0.37994  -2.004   0.0519 .  
</span></span><span class="line"><span class="cl">## raceBlack      467.51804   19.12565  24.445  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## raceHispanic   139.32230   17.15159   8.123 5.39e-10 ***
</span></span><span class="line"><span class="cl">## raceOther      278.44977   38.19013   7.291 7.40e-09 ***
</span></span><span class="line"><span class="cl">## raceWhite      264.39021   17.33046  15.256  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## ---
</span></span><span class="line"><span class="cl">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## (Dispersion parameter for gaussian family taken to be 128137.6)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Number of Fisher Scoring iterations: 2
</span></span></code></pre></td></tr></table>
</div>
</div><p>This is not statistically significant either.</p>
<h2 id="type-of-drinker-regression">Type of Drinker Regression</h2>
<p>I&rsquo;m now going to look at my created drinktype variable to see if there is any signifigance within a model that has that variable instead of total drinks consumed in a year on average.</p>
<h3 id="bone-mineral-density">Bone Mineral Density</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">bmd.glm2</span> <span class="o">&lt;-</span> <span class="nf">svyglm</span><span class="p">(</span><span class="n">bmd</span> <span class="o">~</span> <span class="n">drinktype</span> <span class="o">+</span> <span class="n">gender</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="n">race</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                   <span class="n">alc.subset</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">bmd.glm2</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Call:
</span></span><span class="line"><span class="cl">## svyglm(formula = bmd ~ drinktype + gender + age + race, design = alc.subset)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Survey design:
</span></span><span class="line"><span class="cl">## subset(alc.svy, age &gt;= 21 &amp; preg == &#34;No&#34; | is.na(preg) &amp; !is.na(drinksyr) &amp; 
</span></span><span class="line"><span class="cl">##     !is.na(bmc) &amp; !is.na(bmd))
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Coefficients:
</span></span><span class="line"><span class="cl">##                          Estimate Std. Error t value Pr(&gt;|t|)    
</span></span><span class="line"><span class="cl">## (Intercept)             1.1014758  0.0066615 165.350  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## drinktypeDrinker        0.0188781  0.0041735   4.523 5.56e-05 ***
</span></span><span class="line"><span class="cl">## drinktypeBinge Drinker  0.0144244  0.0046685   3.090 0.003686 ** 
</span></span><span class="line"><span class="cl">## genderFemale           -0.0655285  0.0030256 -21.658  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## age                    -0.0004467  0.0001254  -3.561 0.000992 ***
</span></span><span class="line"><span class="cl">## raceBlack               0.1079738  0.0054775  19.712  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## raceHispanic            0.0251814  0.0036067   6.982 2.27e-08 ***
</span></span><span class="line"><span class="cl">## raceOther               0.0545921  0.0081870   6.668 6.14e-08 ***
</span></span><span class="line"><span class="cl">## raceWhite               0.0428369  0.0047636   8.992 4.74e-11 ***
</span></span><span class="line"><span class="cl">## ---
</span></span><span class="line"><span class="cl">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## (Dispersion parameter for gaussian family taken to be 0.00985392)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Number of Fisher Scoring iterations: 2
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="bone-mineral-content-1">Bone Mineral Content</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">bmc.glm2</span> <span class="o">&lt;-</span> <span class="nf">svyglm</span><span class="p">(</span><span class="n">bmc</span> <span class="o">~</span> <span class="n">drinktype</span> <span class="o">+</span> <span class="n">gender</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="n">race</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                   <span class="n">alc.subset</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">bmc.glm2</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Call:
</span></span><span class="line"><span class="cl">## svyglm(formula = bmc ~ drinktype + gender + age + race, design = alc.subset)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Survey design:
</span></span><span class="line"><span class="cl">## subset(alc.svy, age &gt;= 21 &amp; preg == &#34;No&#34; | is.na(preg) &amp; !is.na(drinksyr) &amp; 
</span></span><span class="line"><span class="cl">##     !is.na(bmc) &amp; !is.na(bmd))
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Coefficients:
</span></span><span class="line"><span class="cl">##                         Estimate Std. Error t value Pr(&gt;|t|)    
</span></span><span class="line"><span class="cl">## (Intercept)            2321.5997    17.1247 135.571  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## drinktypeDrinker         65.2218    17.4097   3.746  0.00058 ***
</span></span><span class="line"><span class="cl">## drinktypeBinge Drinker   61.9370    17.8532   3.469  0.00129 ** 
</span></span><span class="line"><span class="cl">## genderFemale           -500.5703     9.3263 -53.673  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## age                      -0.6723     0.3902  -1.723  0.09281 .  
</span></span><span class="line"><span class="cl">## raceBlack               464.5450    18.3295  25.344  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## raceHispanic            138.4712    14.0689   9.842 4.01e-12 ***
</span></span><span class="line"><span class="cl">## raceOther               291.6212    37.1853   7.842 1.54e-09 ***
</span></span><span class="line"><span class="cl">## raceWhite               270.4601    15.9841  16.921  &lt; 2e-16 ***
</span></span><span class="line"><span class="cl">## ---
</span></span><span class="line"><span class="cl">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## (Dispersion parameter for gaussian family taken to be 121702.2)
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## Number of Fisher Scoring iterations: 2
</span></span></code></pre></td></tr></table>
</div>
</div><p>So these models do show a positive increase of bone mineral content and density when the individual is classified as a drinker and also, to a lesser extent, as a binge drinker, which reinforces the findings from previous papers about this topic.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Things that are generally considered bad for you aren&rsquo;t always bad for everything, sometimes they can also be neutral when you&rsquo;re looking at very specific measures of someone&rsquo;s health rather than the big picture.</p>
<p>I&rsquo;m definitely used to using ggplot2 for graphics, but using R&rsquo;s default graphics syntax was a bit challenging and definitely took me a bit to find out how to do certain things, like putting the legend on the box plot for example. I was originally hesitant to use these built in graphics due to that, but I decided to go ahead and use them as it is meant to be used with survey data and the content was correct, it just took me longer to customize the plots.</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Michelle Gulotta</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/heavy-metal/">
        
        
            <div class="article-image">
                <img src="/p/heavy-metal/images/metal.320734de3231f20538a34641c95abc8d_hu5459c0360c2b0cb7a147d2df0eb350ca_3458104_250x150_fill_q75_box_smart1.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Concentration of Heavy Metals in Blood"
                        data-key="heavy-metal" 
                        data-hash="md5-Mgc03jIx8gU4o0ZByVq8jQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Concentration of Heavy Metals in Blood</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/cigarettes-samhsa/">
        
        
            <div class="article-image">
                <img src="/p/cigarettes-samhsa/images/purp.745380d801816e05b1ea89cf2c4ec5fb_hu5459c0360c2b0cb7a147d2df0eb350ca_676910_250x150_fill_q75_box_smart1.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post SAMHSA National Survey on Drug Use and Health Analysis"
                        data-key="cigarettes-samhsa" 
                        data-hash="md5-dFOA2AGBbgWx6onPLE7F&#43;w==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SAMHSA National Survey on Drug Use and Health Analysis</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/liver-condition-trends/">
        
        
            <div class="article-image">
                <img src="/p/liver-condition-trends/images/liver.6c73309e7147a5d9801e9714176e1ec2_hu5459c0360c2b0cb7a147d2df0eb350ca_229405_250x150_fill_q75_box_smart1.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Liver Condition Trends"
                        data-key="liver-condition-trends" 
                        data-hash="md5-bHMwnnFHpdmAHpcUF24ewg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Liver Condition Trends</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/decision-tree-medicaid/">
        
        
            <div class="article-image">
                <img src="/p/decision-tree-medicaid/images/tree.d015cf78241a3722204b9b702286b408_hu5459c0360c2b0cb7a147d2df0eb350ca_2079033_250x150_fill_q75_box_smart1.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Doctor Visits Decision Trees"
                        data-key="decision-tree-medicaid" 
                        data-hash="md5-0BXPeCQaNyIgS5twIoa0CA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Doctor Visits Decision Trees</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/air-quality-cross-validation/">
        
        
            <div class="article-image">
                <img src="/p/air-quality-cross-validation/images/cross.40ecb031321986e137568301e9ee991c_hu5459c0360c2b0cb7a147d2df0eb350ca_471906_250x150_fill_q75_box_smart1.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Air Quality Cross Validation"
                        data-key="air-quality-cross-validation" 
                        data-hash="md5-QOywMTIZhuE3VoMB6e6ZHA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Air Quality Cross Validation</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Michelle Gulotta
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.21.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
